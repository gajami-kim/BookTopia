# 북토피아🌠  
1:1 퍼스널 책 제공 서비스  

## 🖥 프로젝트 소개  
독서를 즐기고 싶지만, 나의 독서 취향이나 스타일에 대해 모르는 분들을 위해  
1:1 퍼스널 서비스를 제공합니다.  

북토피아 검사(취향검사)를 통해 사용자의 취향에 맞는 책을 선정하도록 만들었습니다.  
__SpringBoot MVC 패턴을 기반으로 작업되었으며__,  
DB 생성, 유저 관리, 게시판 관리(기능), 구매 기능 등  
백엔드와 프론트엔드에서 다양한 기능을 구현할 수 있도록 제작된 사이트입니다.  

---

## ⏲ 개발 기간 및 참여 인원  
* 24.05.17 ~ 24.06.24  
* 가명선, __김정온__, 오하은, 윤지명  

---

## 👩🏻‍💻 기여한 부분  

__1. [결제 기능](#결제-기능)__  
   - [결제하기](#-결제하기)  
   - [쿠폰 사용](#-쿠폰-사용)  

__2. [게시판 CRUD](#게시판-crud)__  
   - [게시글 등록 / 수정 / 삭제](#-게시글-등록--수정--삭제)  
   - [파일 등록](#-파일-등록)  
   - [마크다운 적용](#-마크다운-적용)  

__3. [게시글 좋아요](#게시글-좋아요)__  

__4. [댓글](#댓글)__  
   - [댓글](#-댓글)  
   - [대댓글](#-대댓글)  

---

## 결제 기능  
### - 결제하기  
- PG사와 버튼 클릭에 의한 CSS 변경을 위해 결제 수단을 객체로 저장하였습니다.  
- 해당 방법을 이용해 아임포트 request 데이터를 보낼 때 pg사(결제방법)을 함께 전송합니다.  
  현재 payco는 결제를 제한하였습니다.  

- 결제 금액을 검증한 뒤 요청 금액과 DB 속 저장된 구독권 금액이 같으면 결제를 진행합니다.  

![북토피아 pg 저장](https://github.com/user-attachments/assets/f1973ec4-faa1-46c2-9f44-681dc28278a0)  

---

### - 쿠폰 사용  
- 어드민에서 발행한 쿠폰을 사용자가 사용할 수 있습니다.  

![북토피아 쿠폰 선택](https://github.com/user-attachments/assets/3370eeb1-8195-4a94-806d-12d1e436d6ed)  
![북토피아 쿠폰적용 view](https://github.com/user-attachments/assets/fceb318c-374f-4533-9cb3-797c0a16a215)  

---

## 게시판 CRUD  
### - 게시글 등록 / 수정 / 삭제  
- Toast UI의 Editor를 활용하여 글쓰기 형식을 지정하고 필요한 기능을 추가하였습니다.  
- hooks를 이용해 이미지 업로드 시 파일 경로를 전달하고, 이를 출력할 수 있도록 구현하였습니다.  

![북토피아 toast js](https://github.com/user-attachments/assets/9422a12f-5129-4bc9-923e-10d526d7a337)  

---

## 게시글 좋아요  
- 하트 버튼 클릭 시 게시글 번호(bno)와 유저 아이디를 이용해 현재 좋아요 상태를 확인합니다.  
- 좋아요가 없는 경우 (0): 아이디와 게시글 번호를 포함한 데이터를 생성하여 서버로 전송하고,  
  DB에서 좋아요 상태를 1로 변경합니다.  
- 좋아요가 이미 눌린 경우 (1): 좋아요를 취소하기 위해 DB에서 상태를 0으로 업데이트합니다.  

![북토피아 하트](https://github.com/user-attachments/assets/c8bbc21e-552f-4327-a4a2-8be0897d9442)  

---

## 댓글  
### - 댓글  
- 게시글 번호(bno), 댓글 작성자, 내용을 서버로 전송하여 DB에 저장합니다.  

![댓글](https://github.com/user-attachments/assets/475cec5b-9321-4ffd-9fc3-588bf0512f20)  

### - 대댓글  
- 대댓글은 게시글 번호(bno), 댓글 번호(cno), 작성자, 내용을 서버로 전송하여 DB에 저장합니다.  
- 하나의 댓글에 여러 개의 대댓글이 달릴 수 있도록 구현하였습니다.  
- 댓글 삭제 시, 해당 댓글에 달린 모든 대댓글도 함께 삭제되도록 처리하였습니다.  
- 대댓글 출력은 미리 정의된 HTML이 아닌, JS에서 동적으로 생성하여 화면에 표시되도록 구현하였습니다.  

![대댓글](https://github.com/user-attachments/assets/55ef4257-3d71-4fef-8241-49383cb4c2a0)  

---

### [위로 올라가기](#프로젝트-소개)
